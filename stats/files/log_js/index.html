<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - log.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>log.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">78.38</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">177</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">20.29</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">0.41</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">&#039;use strict&#039;;

var typeOf = require(&#039;./typeOf.js&#039;);

// filter based on level
function filterEntries(level, entry) {

  return level.indexOf(entry.level) !== -1;
}

// bind level methods for instances
function instanceLevelMethods(addEntry, name) {
  this[name] = addEntry.bind(null, name);
}

/**
  * @private
  * @description
  * check for argument definition
  * @arg {mixed} arg - any argument value
  * @returns {boolean} whether the argument was defined as anything.
  */
function isDef(arg) {

  return arg !== null &amp;&amp; arg !== undefined;
}

/**
  * @constructor
  * @description
  * Creates a new instance for logging linting problems.
  * @example
  * var logger = new Log();
  * logger.error(&#039;root&#039;, &#039;api_version&#039;, &#039;RAML document must provide api_version&#039;, &#039;RAML&#039;);
  * logger.read(); // returns an array of all logged entries
  */
function Log() {
  var stack;

  /**
    * @typedef {object} LogEntry
    * @prop {string} code - the unique identifier for the rule
    * @prop {string} level - the level of error: `error`, `warning`, or `info`
    * @prop {string} message - the &quot;helpful&quot; message to indicate the problem
    * @prop {string} locale - the resource location within the RAML document
    * @prop {string} section - the section &quot;type&quot; within the AST
    */

  /**
    * @protected
    * @description
    * Primary method for logging, made available as instance methods named for
    * the levels of logging available; those methods have the first argument
    * provided automatically.
    * @arg {string} level - automatically provided, will never be passed by user
    * @arg {string} section - the section within the document entry originated
    * @arg {string} code - uniquge identifier of the rule for the entry
    * @arg {string} message - the (possibly) helpful message to the user
    * @arg {string} locale - the helper string to identify where in the RAML doc
    * @throws {MissingArgumentException} If any argument is not provided
    * @example
    * myLogger.error(&#039;resource&#039;, &#039;resource_desc&#039;, &#039;need a description&#039;, &#039;GET http://example.com/resource&#039;);
    * @example
    * myLogger.warning(&#039;resource&#039;, &#039;resource_desc&#039;, &#039;need a description&#039;, &#039;GET http://example.com/resource&#039;);
    * @example
    * myLogger.info(&#039;resource&#039;, &#039;resource_desc&#039;, &#039;need a description&#039;, &#039;GET http://example.com/resource&#039;);
    */
  function addEntry(level, section, rule, message, locale) {
    if ([section, rule, message, locale].every(isDef)) {
      stack
        .push({
          code: rule.id,
          hint: rule.hint,
          level: level,
          message: message,
          rule: locale,
          section: section
        });
    } else {
      throw new Error(&#039;Missing arguments calling log.$().&#039;.replace(&#039;$&#039;, level));
    }
  }

  /**
    * @function error
    * @memberOf Log
    * @instance
    * @description
    * Instance method for logging `error` level entries; calls {@link Log~addEntry}
    * with first argument satisfied, and passing along addition arguments.
    * @see {@link Log~addEntry}
    */

  /**
    * @function warning
    * @memberOf Log
    * @instance
    * @description
    * Instance method for logging `warning` level entries; calls {@link Log~addEntry}
    * with first argument satisfied, and passing along addition arguments.
    * @see {@link Log~addEntry}
    */

  /**
    * @function info
    * @memberOf Log
    * @instance
    * @description
    * Instance method for logging `info` level entries; calls {@link Log~addEntry}
    * with first argument satisfied, and passing along addition arguments.
    * @see {@link Log~addEntry}
    */
  // add methods to public-facing api for each of these
  this.getLevels()
    .forEach(instanceLevelMethods.bind(this, addEntry));

  /**
    * @description
    * For use when logging information that will be helpful in debugging but will
    * not necessarily be able to give additional information that the normal log
    * methods require.
    * @arg {any} obj - any object to put into the log
    */
  this.raw = function logRaw(obj) {
    stack.push(obj);
  };

  /**
    * @description
    * Reset the list, of entries, to an empty array.
    */
  this.empty = function emptyStack() {
    stack = [];
  };

  /**
    * @description
    * Retrieve the entries; for the level indicated, or all of them.
    * @arg {string} [level] - if provided, only include entries that match
    * @returns {LogEntry[]} An array of {@link LogEntry}
    */
  this.read = function readLog(level) {

    return !level ? stack : (stack
      .filter(filterEntries.bind(null, level)));
  };

  this.empty();
}

/**
  * @description
  * This function provided to supply an order list of logging levels in descending
  * order of severity. This will allow the ability to retrieve log entries based
  * on criteria more complex than a simple string match; &#039;filter the log for entries
  * (greater|lesser) than (or equal to) a given level&#039;.
  * @returns {array} a list of all logging levels; in descending order of severity
  * @example
  * // this is the constructor (function); not an instance of it
  * Log.getLevels(); // returns [&#039;error&#039;, &#039;warning&#039;, &#039;info&#039;]
  */
Log.getLevels = function getLevels() {

  return [&#039;error&#039;, &#039;warning&#039;, &#039;info&#039;];
};

/**
  * @see {@link Log.getLevels}
  * @example
  * myLoggerInstance.getLevels(); // returns [&#039;error&#039;, &#039;warning&#039;, &#039;info&#039;]
  */
Log.prototype.getLevels = Log.getLevels;

/* istanbul ignore else */
if (typeOf(exports, &#039;object&#039;)) {
  module.exports = Log;
}</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
